#include "wasm4.h"
#include "score.h"

// uint8_t trophy[] = { 0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x55,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x55,0x55,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x55,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x00,0x00,0x05,0x54,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x15,0x50,0x00,0x00,0x50,0x01,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x40,0x05,0x00,0x01,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x40,0x04,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x10,0x04,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x10,0x04,0x00,0x41,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x41,0x00,0x10,0x04,0x00,0x14,0x15,0x55,0x55,0x55,0x69,0x69,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x14,0x00,0x10,0x04,0x00,0x00,0x15,0x55,0x55,0x55,0x69,0x69,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x10,0x10,0x00,0x00,0x15,0x55,0x55,0x5a,0xaa,0xaa,0x95,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x04,0x10,0x00,0x00,0x15,0x55,0x55,0x5a,0xaa,0xaa,0x95,0x55,0x56,0xa5,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x04,0x10,0x00,0x00,0x15,0x55,0x55,0x55,0xa5,0xa5,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x04,0x10,0x00,0x00,0x15,0x55,0x55,0x55,0xa5,0xa5,0x55,0x55,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x04,0x10,0x00,0x00,0x05,0x55,0x55,0x56,0x96,0x95,0x55,0x56,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x04,0x10,0x00,0x00,0x05,0x55,0x55,0x6a,0xaa,0xaa,0x55,0x5a,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x04,0x10,0x00,0x00,0x05,0x55,0x55,0x6a,0xaa,0xaa,0x55,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x04,0x40,0x00,0x00,0x05,0x55,0x55,0x5a,0x5a,0x55,0x56,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x01,0x40,0x00,0x00,0x05,0x55,0x55,0x5a,0x5a,0x55,0x56,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x01,0x40,0x00,0x00,0x05,0x55,0x55,0x5a,0x5a,0x55,0x56,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x01,0x40,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0x55,0x56,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x01,0x40,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0x55,0x55,0xaa,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x01,0x10,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x04,0x10,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x04,0x10,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x04,0x10,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x04,0x04,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x10,0x04,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x10,0x01,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x40,0x01,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x40,0x00,0x40,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x01,0x00,0x00,0x40,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x01,0x00,0x00,0x10,0x00,0x00,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x55,0x00,0x00,0x04,0x00,0x00,0x04,0x00,0x00,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x10,0x00,0x00,0x04,0x00,0x00,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x10,0x00,0x00,0x01,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x40,0x00,0x00,0x00,0x40,0x00,0x05,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x01,0x00,0x00,0x00,0x00,0x10,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x04,0x00,0x00,0x00,0x00,0x05,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x6a,0xa9,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x50,0x00,0x00,0x00,0x00,0x00,0x54,0x00,0x55,0x55,0x55,0x55,0x55,0x6a,0xaa,0xaa,0xa5,0x55,0x55,0x55,0x55,0x00,0x15,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x50,0x55,0x55,0x55,0x55,0x56,0xaa,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x05,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x15,0x55,0x55,0x55,0x56,0xaa,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x54,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x55,0x55,0x55,0x55,0x56,0xaa,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x15,0x55,0x55,0x55,0x56,0xaa,0xaa,0xaa,0xa9,0x55,0x55,0x55,0x54,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0xaa,0xaa,0xaa,0xa5,0x55,0x55,0x55,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x05,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x41,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x41,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x40,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x01,0x00,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x40,0x15,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x54,0x01,0x00,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x40,0x05,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x50,0x01,0x00,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x40,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x54,0x00,0x00,0x15,0x55,0x55,0x55,0x55,0x55,0x54,0x00,0x00,0x15,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05,0x55,0x55,0x55,0x55,0x55,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x55,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x15,0x55,0x55,0x55,0x54,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xff,0xff,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xff,0xff,0xff,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xff,0xff,0xff,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00 };

// unsigned int timeToBeat = 120;
// unsigned int scoreToBeat = 10;
// unsigned int maxScore = 15;

// unsigned char textStep = 0;
// unsigned char ending;

uint8_t play_ending(uint8_t pressedThisFrame) {
    tracef("%d", pressedThisFrame);
    return 3;
    // if (giftCounter == maxScore && timeCounter < timeToBeat)
    //     ending = 5; //perfect end
    // else if (giftCounter > scoreToBeat) {
    //     if (timeCounter < timeToBeat)
    //         ending = 4; //good end
    //     else
    //         ending = 2; //meh end
    // } else {
    //     if (timeCounter < timeToBeat)
    //         ending = 3; //meh end
    //     else
    //         ending = 1; //bad end
    // }
    
    // switch (textStep)
    // {
    //     case 0:
    //         switch (ending)
    //         {
    //             case 1:
    //             case 2: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 3:
    //             case 4: 
    //             case 5: text("I made it in time!", 0, 0);
    //                 break;
    //         }
    //         break;
    //     case 1:
    //         switch (ending)
    //         {
    //             case 1: text("... and I didn't get enough presents", 0, 0);
    //                 break;
    //             case 2: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 3: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 4: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 5: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //         }
    //         break;
    //     case 2:
    //         switch (ending)
    //         {
    //             case 1: text("Christmas is ruined!", 0, 0);
    //                 break;
    //             case 2: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 3: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 4: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //             case 5: text("I wasn't quick enough!", 0, 0);
    //                 break;
    //         }
    //         break;
    //     case 3: 
    //         return 3;
    // }
    // if (pressedThisFrame & BUTTON_1)
    //     textStep++;
}
